# SonarQube project configuration for Abaco Financial Intelligence Platform

# Project identification
sonar.projectKey=abaco-financial-intelligence-platform
sonar.projectName=Abaco Financial Intelligence Platform - AI Toolkit Integrated
sonar.projectVersion=1.0.0
sonar.organization=abaco-financial

# Source and test directories - comprehensive analysis
sonar.sources=./app,./components,./lib,./supabase/functions,./supabase/migrations,./scripts,./middleware.ts,./next.config.ts
sonar.tests=./tests,./app/**/*.test.ts,./lib/**/*.test.ts,./components/**/*.test.tsx,./lib/agents/**/*.test.ts

# Exclusions and inclusions - optimized for AI Toolkit
sonar.exclusions=**/node_modules/**,**/*.test.ts,**/*.spec.ts,**/coverage/**,**/*.d.ts,**/dist/**,**/.next/**,**/build/**,.anima/**,tsconfig.tsbuildinfo,package-lock.json,**/.vscode/**,**/.devcontainer/**
sonar.test.inclusions=**/*.test.ts,**/*.test.tsx,**/*.spec.ts

# Coverage reports
sonar.typescript.lcov.reportPaths=coverage/lcov.info
sonar.javascript.lcov.reportPaths=coverage/lcov.info

# Language and encoding
sonar.sourceEncoding=UTF-8
sonar.typescript.tsconfigPath=tsconfig.json

# Quality gate configuration - strict for financial platform
sonar.qualitygate.wait=true

# Security and reliability settings for financial platform
sonar.security.hotspots.checkAll=true
sonar.security.vulnerabilities.checkAll=true
sonar.security.review.checkAll=true

# AI Toolkit specific exclusions - focus on production code quality
sonar.coverage.exclusions=**/lib/agents/**/*.ts,**/lib/cosmosdb/**/*.ts,**/notebooks/**,**/scripts/**/*.sh,**/jest.setup.js,**/jest.config.js

# JavaScript/TypeScript specific settings
sonar.javascript.environments=node,browser,jest
sonar.eslint.reportPaths=eslint-report.json

# SQL analysis for Supabase migrations
sonar.plsql.file.suffixes=.sql

# Duplication settings - allow some duplication in test files and migrations
sonar.cpd.exclusions=**/*.test.ts,**/*.spec.ts,**/migrations/**/*.sql

# Analysis parameters
sonar.analysis.mode=publish
sonar.buildbreaker.skip=false

# Custom quality profiles for financial intelligence platform
sonar.profile=Sonar way

# Branch analysis configuration
sonar.branch.name=main
sonar.branch.target=main

# Financial platform specific rule customizations
sonar.issue.ignore.multicriteria=e1,e2,e3,e4,e5,e6,e7,e8
sonar.issue.ignore.multicriteria.e1.ruleKey=typescript:S3776
sonar.issue.ignore.multicriteria.e1.resourceKey=**/lib/agents/**
sonar.issue.ignore.multicriteria.e2.ruleKey=typescript:S1541
sonar.issue.ignore.multicriteria.e2.resourceKey=**/migrations/**
sonar.issue.ignore.multicriteria.e3.ruleKey=typescript:S2068
sonar.issue.ignore.multicriteria.e3.resourceKey=**/jest.setup.js
sonar.issue.ignore.multicriteria.e4.ruleKey=typescript:S1192
sonar.issue.ignore.multicriteria.e4.resourceKey=**/notebooks/**
sonar.issue.ignore.multicriteria.e5.ruleKey=plsql:S1192
sonar.issue.ignore.multicriteria.e5.resourceKey=**/migrations/**/*.sql
sonar.issue.ignore.multicriteria.e6.ruleKey=typescript:S125
sonar.issue.ignore.multicriteria.e6.resourceKey=**/lib/cosmosdb/**
sonar.issue.ignore.multicriteria.e7.ruleKey=typescript:S1186
sonar.issue.ignore.multicriteria.e7.resourceKey=**/mock/**
sonar.issue.ignore.multicriteria.e8.ruleKey=typescript:S6478
sonar.issue.ignore.multicriteria.e8.resourceKey=**/tailwind.config.ts

# AI Toolkit specific quality metrics
sonar.technicalDebt.hoursInDay=8
sonar.technicalDebt.ratingGrid=0.05,0.1,0.2,0.5

# Performance monitoring thresholds
sonar.javascript.maxCyclomaticComplexity=15
sonar.typescript.maxCyclomaticComplexity=15
